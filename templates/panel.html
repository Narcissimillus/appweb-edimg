<br>
<ul id="ul_right">
    <li><a id="bright">Brightness</a></li>
    <div id="bright_slider" style="font-size: 14px" hidden>
        <br/> Nivel luminozitate: <span id="outputbright"></span> <br/>
        <input type="range" id="bright_value" class="ranger" min="0" max="100" value="50"><br/>
        <input type="submit" id="exec_bright" value="Select modificarea">
    </div>
    <li><a id="contrast">Contrast</a></li>
    <div id="contrast_slider" style="font-size: 14px" hidden>
        <br/> Nivel contrast: <span id="outputcontrast"></span> <br/>
        <input type="range" id="contrast_value" class="ranger" min="0" max="100" value="50"><br/>
        <input type="submit" id="exec_contrast" value="Select modificarea">
    </div>
    <li><a id="sharp">Sharpness</a></li>
    <div id="sharp_slider" style="font-size: 14px" hidden>
        <br/> Nivel sharpness: <span id="outputsharp"></span> <br/>
        <input type="range" id="sharp_value" class="ranger" min="0" max="100" value="50"><br/>
        <input type="submit" id="exec_sharp" value="Select modificarea">
    </div>
    <li><a id="sat">Saturation</a></li>
    <div id="sat_slider" style="font-size: 14px" hidden>
        <br/> Nivel saturatie: <span id="outputsat"></span> <br/>
        <input type="range" id="sat_value" class="ranger" min="0" max="100" value="50"><br/>
        <input type="submit" id="exec_sat" value="Salveaza modificarea">
    </div>
    <li><a id="autocont">Auto-Contrast</a></li>
    <li><a id="scalare">Scale</a></li>
    <div id="scale_slider" style="font-size: 14px" hidden>
        <br/> Nivel scalare: <span id="outputscale"></span> <br/>
        <input type="range" id="scale_value" class="ranger" min="0" max="100" value="50"><br/>
        <input type="submit" id="exec_scale" value="Salveaza modificarea">
    </div>
    <li><a id="flip">Flip</a></li>
    <li><a id="mirror">Mirror</a></li>
    <li><a id="invert">Invert (Negative)</a></li>
    <li><a id="crop">Crop</a></li>
    <div id="crop_sliders" style="font-size: 14px" hidden>
        <br/> Nivel taietura stanga(%): <span id="outputleft"></span> <br/>
        <input type="range" id="left_crop_value" class="ranger" min="0" max="100" value="0"><br/>
        <br/> Nivel taietura sus(%): <span id="outputupper"></span> <br/>
        <input type="range" id="upper_crop_value" class="ranger" min="0" max="100" value="0"><br/>
        <br/> Nivel taietura dreapta(%): <span id="outputright"></span> <br/>
        <input type="range" id="right_crop_value" class="ranger" min="0" max="100" value="100"><br/>
        <br/> Nivel taietura jos(%)k: <span id="outputlower"></span> <br/>
        <input type="range" id="lower_crop_value" class="ranger" min="0" max="100" value="100"><br/>
        <input type="submit" id="exec_crop" value="Salveaza modificarea">
    </div>
</ul>
<script>
    $(document).ready(function ()
    {           
        $('.NO-CACHE').attr('src',function () { 
            return $(this).attr('src') + "?a=" + performance.now() 
        });
    });
    $('#save').click(function (){
        var a  = document.createElement('a');
        a.href = $('#display_image').attr("src")
        a.download = "processed_image.jpg";
        a.click()
    });
    $('#original').click(function(){
        $('#display_image').attr('src',"static/uploads/img.jpg");
    });
    $('#rgb2gray').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/rgb_to_gray',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_gray);
                $('#loading').text("");
            },
        });
    });
    (function(){
        var count = 0;
        $('#im2bw').click(function(){
            count += 1;
            var prag = prompt("Dati un prag cu valoare cuprinsa intre 0 si 255:");
            $('#loading').text("Se incarca...");
            if (parseInt(prag) > 255)
                prag = "255";
            else
                if(parseInt(prag) < 0)
                    prag = "0";
                else
                    if(parseInt(prag) > 0 && parseInt(prag) < 255){
                        //pass
                    }
                    else prag = "255"
            $.ajax({
                type: 'POST',
                url: '/gray_to_binary',
                data: prag + '.' + count,
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_bw);
                    $('#loading').text("");
                },
            });
        });
    })();
    $('#unif_filt').click(function(){
        $('#mask_opts_unif').toggle("slow");
        $('#exec_mask_unif').click(function(){
            $('#mask_opts_unif').hide("slow");
            if(document.getElementById('mask_3x3_unif').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                type: 'POST',
                url: '/uniform_filter_3x3',
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_unif_3x3);
                    $('#loading').text("");
                },
            });
            }else if(document.getElementById('mask_5x5_unif').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                type: 'POST',
                url: '/uniform_filter_5x5',
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_unif_5x5);
                    $('#loading').text("");
                },
            });
            }
        });
    });
    $('#gauss_filt').click(function(){
        $('#mask_opts_gauss').toggle("slow");
        $('#exec_mask_gauss').click(function(){
            $('#mask_opts_gauss').hide("slow");
            if(document.getElementById('mask_3x3_gauss').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/gauss_filter_3x3',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_gauss_3x3);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('mask_5x5_gauss').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/gauss_filter_5x5',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_gauss_5x5);
                        $('#loading').text("");
                    },
                });
            }
        });
    });
    $('#roberts').click(function(){
        $('#roberts_opt').toggle("slow");
        $('#exec_roberts').click(function(){
            $('#roberts_opt').hide("slow");
            if(document.getElementById('nord_roberts').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/roberts_filter_N',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_roberts_N);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('est_roberts').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/roberts_filter_E',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_roberts_E);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('sud_roberts').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/roberts_filter_S',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_roberts_S);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('vest_roberts').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/roberts_filter_V',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_roberts_V);
                        $('#loading').text("");
                    },
                });
            }
        });
    });
    $('#prewitt').click(function(){
        $('#prewitt_opt').toggle("slow");
        $('#exec_prewitt').click(function(){
            $('#prewitt_opt').hide("slow");
            if(document.getElementById('nord_prewitt').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/prewitt_filter_N',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_prewitt_N);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('est_prewitt').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/prewitt_filter_E',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_prewitt_E);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('sud_prewitt').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/prewitt_filter_S',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_prewitt_S);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('vest_prewitt').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/prewitt_filter_V',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_prewitt_V);
                        $('#loading').text("");
                    },
                });
            }
        });
    });
    $('#sobel').click(function(){
        $('#sobel_opt').toggle("slow");
        $('#exec_sobel').click(function(){
            $('#sobel_opt').hide("slow");
            if(document.getElementById('nord_sobel').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/sobel_filter_N',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_sobel_N);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('est_sobel').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/sobel_filter_E',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_sobel_E);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('sud_sobel').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/sobel_filter_S',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_sobel_S);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('vest_sobel').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/sobel_filter_V',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_sobel_V);
                        $('#loading').text("");
                    },
                });
            }
        });
    });
    $('#kirsch').click(function(){
        $('#kirsch_opt').toggle("slow");
        $('#exec_kirsch').click(function(){
            $('#kirsch_opt').hide("slow");
            if(document.getElementById('nord_kirsch').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/kirsch_filter_N',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_kirsch_N);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('est_kirsch').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/kirsch_filter_E',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_kirsch_E);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('sud_kirsch').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/kirsch_filter_S',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_kirsch_S);
                        $('#loading').text("");
                    },
                });
            }else if(document.getElementById('vest_kirsch').checked) {
                $('#loading').text("Se incarca...");
                $.ajax({
                    type: 'POST',
                    url: '/kirsch_filter_V',
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_kirsch_V);
                        $('#loading').text("");
                    },
                });
            }
        });
    });
    $('#min_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/min_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_min);
                $('#loading').text("");
            },
        });
    });
    $('#max_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/max_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_max);
                $('#loading').text("");
            },
        });
    });
    $('#median_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/median_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_median);
                $('#loading').text("");
            },
        });
    });
    $('#medext_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/medext_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_medext);
                $('#loading').text("");
            },
        });
    });
    $('#range_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/range_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_range);
                $('#loading').text("");
            },
        });
    });
    $('#disprange_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/disprange_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_disprange);
                $('#loading').text("");
            },
        });
    });
    $('#alphamed_filt').click(function(){
        $('#alphamed_slider').toggle("slow");
        $('#outputmed').text($('#alphamed_value').val());
        $('#alphamed_value').on('input', function(){
            $('#outputmed').text($(this).val());
            // var alpha = $('#alphamed_value').val();
            // $.ajax({
            //     type: 'POST',
            //     url: '/alphamed_filter',
            //     data: alpha,
            //     success: function(resp){
            //         $('#display_image').attr('src',resp.image_url_alphamed);
            //         $('#loading').text("");
            //     },
            // });               
        });
        $('#exec_alphamed').click(function(){
            $('#alphamed_slider').hide("slow");
            $('#loading').text("Se incarca...");
            var alpha = $('#alphamed_value').val();
            $.ajax({
                type: 'POST',
                url: '/alphamed_filter',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_alphamed);
                    $('#loading').text("");
                },
            });
        });
    });
    $('#alphacom_filt').click(function(){
        $('#alphacom_slider').toggle("slow");
        $('#outputcom').text($('#alphacom_value').val());
        $('#alphacom_value').on('input', function(){
            $('#outputcom').text($(this).val());
            // var alpha = $('#alphamed_value').val();
            // $.ajax({
            //     type: 'POST',
            //     url: '/alphamed_filter',
            //     data: alpha,
            //     success: function(resp){
            //         $('#display_image').attr('src',resp.image_url_alphamed);
            //         $('#loading').text("");
            //     },
            // });               
        });
        $('#exec_alphacom').click(function(){
            $('#alphacom_slider').hide("slow");
            $('#loading').text("Se incarca...");
            var alpha = $('#alphacom_value').val();
            $.ajax({
                type: 'POST',
                url: '/alphacom_filter',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_alphacom);
                    $('#loading').text("");
                },
            });
        });
    });
    $('#alphaqsr_filt').click(function(){
        $('#alphaqsr_slider').toggle("slow");
        $('#outputqsr').text($('#alphaqsr_value').val());
        $('#alphaqsr_value').on('input', function(){
            $('#outputqsr').text($(this).val());
            // var alpha = $('#alphamed_value').val();
            // $.ajax({
            //     type: 'POST',
            //     url: '/alphamed_filter',
            //     data: alpha,
            //     success: function(resp){
            //         $('#display_image').attr('src',resp.image_url_alphamed);
            //         $('#loading').text("");
            //     },
            // });               
        });
        $('#exec_alphaqsr').click(function(){
            $('#alphaqsr_slider').hide("slow");
            $('#loading').text("Se incarca...");
            var alpha = $('#alphaqsr_value').val();
            $.ajax({
                type: 'POST',
                url: '/alphaqsr_filter',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_alphaqsr);
                    $('#loading').text("");
                },
            });
        });
    });
    $('#artm_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/artm_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_artm);
                $('#loading').text("");
            },
        });
    });
    $('#geom_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/geom_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_geom);
                $('#loading').text("");
            },
        });
    });
    $('#harm_filt').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/harm_filter',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_harm);
                $('#loading').text("");
            },
        });
    });
    $('#contraharm_filt').click(function(){
        $('#alphach_slider').toggle("slow");
        $('#outputch').text($('#alphach_value').val());
        $('#alphach_value').on('input', function(){
            $('#outputch').text($(this).val());              
        });
        $('#exec_alphach').click(function(){
            $('#alphach_slider').hide("slow");
            $('#loading').text("Se incarca...");
            var alpha = $('#alphach_value').val();
            $.ajax({
                type: 'POST',
                url: '/alphach_filter',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_alphach);
                    $('#loading').text("");
                },
            }); 
        });
    });
    $('#power_filt').click(function(){
        $('#power_opts').toggle('slow');
        $('#outputpow').text($('#alphapow_value').val());
        $('#alphapow_value').on('input', function(){
            $('#outputpow').text($(this).val());              
        });
        $('#outputpow2').text($('#alphapow2_value').val());
        $('#alphapow2_value').on('input', function(){
            $('#outputpow2').text($(this).val());              
        });
        $('#alphapow').on('input',function(){
            $('#exec_alphapow').click(function(){
                $('#loading').text("Se incarca...");
                var alpha = $('#alphapow_value').val();
                $.ajax({
                    type: 'POST',
                    url: '/alphapow_filter',
                    data: alpha,
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_alphapow);
                        $('#loading').text("");
                        $('#power_opts').hide('slow');
                    },
                }); 
            });
        });
        $('#alphapow2').on('input',function(){
            $('#exec_alphapow').click(function(){
                $('#loading').text("Se incarca...");
                var alpha2 = $('#alphapow2_value').val();
                $.ajax({
                    type: 'POST',
                    url: '/alphapow2_filter',
                    data: alpha2,
                    success: function(resp){
                        $('#display_image').attr('src',resp.image_url_alphapow2);
                        $('#loading').text("");
                        $('#power_opts').hide('slow');
                    },
                }); 
            });
        });
    });
    $('#bright').click(function(){
        $('#bright_slider').toggle("slow");
        $('#outputbright').text($('#bright_value').val());
        $('#bright_value').on('input', function(){
            $('#outputbright').text($(this).val());
            var alpha = $('#bright_value').val();
            $.ajax({
                type: 'POST',
                url: '/bright',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_bright + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#exec_bright').click(function(){
            var alpha = $('#bright_value').val();
            $('#bright_slider').hide("slow");
            $.ajax({
                type: 'POST',
                url: '/save_bright',
                data: alpha,
            });
        });
    });
    $('#contrast').click(function(){
        $('#contrast_slider').toggle("slow");
        $('#outputcontrast').text($('#contrast_value').val());
        $('#contrast_value').on('input', function(){
            $('#outputcontrast').text($(this).val());
            var alpha = $('#contrast_value').val();
            $.ajax({
                type: 'POST',
                url: '/contrast',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_contrast + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#exec_contrast').click(function(){
            var alpha = $('#contrast_value').val();
            $('#contrast_slider').hide("slow");
            $.ajax({
                type: 'POST',
                url: '/save_contrast',
                data: alpha,
            });
        });
    });
    $('#sharp').click(function(){
        $('#sharp_slider').toggle("slow");
        $('#outputsharp').text($('#sharp_value').val());
        $('#sharp_value').on('input', function(){
            $('#outputsharp').text($(this).val());
            var alpha = $('#sharp_value').val();
            $.ajax({
                type: 'POST',
                url: '/sharp',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_sharp + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#exec_sharp').click(function(){
            var alpha = $('#sharp_value').val();
            $('#sharp_slider').hide("slow");
            $.ajax({
                type: 'POST',
                url: '/save_sharp',
                data: alpha,
            });
        });
    });
    $('#sat').click(function(){
        $('#sat_slider').toggle("slow");
        $('#outputsat').text($('#sat_value').val());
        $('#sat_value').on('input', function(){
            $('#outputsat').text($(this).val());
            var alpha = $('#sat_value').val();
            $.ajax({
                type: 'POST',
                url: '/sat',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_sat + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#exec_sat').click(function(){
            var alpha = $('#sat_value').val();
            $('#sat_slider').hide("slow");
            $.ajax({
                type: 'POST',
                url: '/save_sat',
                data: alpha,
            });
        });
    });
    $('#autocont').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/autocont',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_autocont + "?a=" + performance.now());
                $('#loading').text("");
            },
        });
    });
    $('#scalare').click(function(){
        $('#scale_slider').toggle("slow");
        $('#outputscale').text($('#scale_value').val());
        $('#scale_value').on('input', function(){
            $('#outputscale').text($(this).val());
            var alpha = $('#scale_value').val();
            $.ajax({
                type: 'POST',
                url: '/scalare',
                data: alpha,
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_scale + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#exec_scale').click(function(){
            var alpha = $('#scale_value').val();
            $('#scale_slider').hide("slow");
            $.ajax({
                type: 'POST',
                url: '/save_scale',
                data: alpha,
            });
        });
    });
    $('#flip').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/flip_image',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_flip + "?a=" + performance.now());
                $('#loading').text("");
            },
        });
    });
    $('#mirror').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/mirror_image',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_mirror + "?a=" + performance.now());
                $('#loading').text("");
            },
        });
    });
    $('#invert').click(function(){
        $('#loading').text("Se incarca...");
        $.ajax({
            type: 'POST',
            url: '/invert_image',
            success: function(resp){
                $('#display_image').attr('src',resp.image_url_invert + "?a=" + performance.now());
                $('#loading').text("");
            },
        });
    });
    $('#crop').click(function(){
        $('#crop_sliders').toggle("slow");
        $('#outputleft').text($('#left_crop_value').val());
        $('#left_crop_value').on('input', function(){
            $('#outputleft').text($(this).val());
            var left = $('#left_crop_value').val();
            var upper = $('#upper_crop_value').val();
            var right = $('#right_crop_value').val();
            var lower = $('#lower_crop_value').val();
            $.ajax({
                type: 'POST',
                url: '/cropper',
                data: {left: left, upper: upper, right: right, lower: lower},
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_crop + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#outputupper').text($('#upper_crop_value').val());
        $('#upper_crop_value').on('input', function(){
            $('#outputupper').text($(this).val());
            var left = $('#left_crop_value').val();
            var upper = $('#upper_crop_value').val();
            var right = $('#right_crop_value').val();
            var lower = $('#lower_crop_value').val();
            $.ajax({
                type: 'POST',
                url: '/cropper',
                data: {left: left, upper: upper, right: right, lower: lower},
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_crop + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#outputright').text($('#right_crop_value').val());
        $('#right_crop_value').on('input', function(){
            $('#outputright').text($(this).val());
            var left = $('#left_crop_value').val();
            var upper = $('#upper_crop_value').val();
            var right = $('#right_crop_value').val();
            var lower = $('#lower_crop_value').val();
            $.ajax({
                type: 'POST',
                url: '/cropper',
                data: {left: left, upper: upper, right: right, lower: lower},
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_crop + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#outputlower').text($('#lower_crop_value').val());
        $('#lower_crop_value').on('input', function(){
            $('#outputlower').text($(this).val());
            var left = $('#left_crop_value').val();
            var upper = $('#upper_crop_value').val();
            var right = $('#right_crop_value').val();
            var lower = $('#lower_crop_value').val();
            $.ajax({
                type: 'POST',
                url: '/cropper',
                data: {left: left, upper: upper, right: right, lower: lower},
                success: function(resp){
                    $('#display_image').attr('src',resp.image_url_crop + "?a=" + performance.now());
                    $('#loading').text("");
                },
            });               
        });
        $('#exec_crop').click(function(){
            var left = $('#left_crop_value').val();
            var upper = $('#upper_crop_value').val();
            var right = $('#right_crop_value').val();
            var lower = $('#lower_crop_value').val();
            $('#crop_sliders').hide("slow");
            $.ajax({
                type: 'POST',
                url: '/save_crop',
                data: {left: left, upper: upper, right: right, lower: lower},
            });
        });
    });
</script>